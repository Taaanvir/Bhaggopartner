"use strict";var Layout=function(n){function u(t){var f=window.location.href,u=window.location.pathname.split("/"),e=u.findIndex(function(n){return r.test("/"+n+"/")}),o,i,s;return e!=-1?(u[e]=t,o=u.join("/"),f.replace(window.location.pathname,o)):(i=window.location.host+n("#RootUrl").val().replace(/\/\w{2}(?:\w{2})?\//,""),s=i.endsWith("/")?"":"/",f.replace(i,i+s+t))}var i=39,r=new RegExp(/\/\w{2}(?:\w{2})?\//g),t={initialize:function(){t.registerAjaxHandlerError();t.initEvent();t.renderHotNews()},initEvent:function(){n("#selectedLanguage").on("click",function(){n(this).hasClass("active")?n(this).removeClass("active"):(n(this).addClass("active"),window.addEventListener("click",t.handleCloseLanguageDropdown,!0))});n("#menuMobileBtn").on("click",function(){n(this).hasClass("collapsed")&&window.addEventListener("click",t.handleCloseMenuPopup,!0)});n("#languageList").on("click",".language-item",function(){var i=n(this),r=i.data("target-country-code");document.cookie="12b_country="+r+"; path=/";t.changeLanguage(i.data("option"))});n("li.parent").on("mouseover",function(){var t=n(this),r=n("> .submenu-container",t),i=t.position(),u=t.outerWidth(),f=t.outerHeight();r.css({top:i.top+f,left:i.left+u-200})});n(window).scroll(function(){n(this).scrollTop()>200?n("#moveToTop").fadeIn(200):n("#moveToTop").fadeOut(200)})},handleCloseMenuPopup:function(){var i=n("#menuMobileBtn"),r=!i.hasClass("collapsed");r&&(i.click(),window.removeEventListener("click",t.handleCloseMenuPopup,r))},handleCloseLanguageDropdown:function(i){var r=n("#selectedLanguage"),u=r.hasClass("active");u&&(r.has(i.target).length||r.removeClass("active"),window.removeEventListener("click",t.handleCloseLanguageDropdown,u))},registerAjaxHandlerError:function(){n(document).ajaxError(function(i,r){var u=r.status;switch(u){case 401:case 403:window.location.href=t.handleResolveRelativeLangUrl("Home");break;case 404:window.location.href=t.handleResolveRelativeLangUrl("Notify/PageNotFound");break;case 500:alert(n("<div/>").html(window.Lang.ServerError).text())}})},renderHotNews:function(){n.ajax({type:"GET",url:t.handleResolveRelativeLangUrl("News/LatestHotNews"),dataType:"html",cache:!1,success:function(t){var r=n("#marquee"),u,f;r.html(t);u=r.width();f=u/i;r.css("animation-duration",f+"s")}})},changeLanguage:function(n){var t=u(n).replace(/\/+$/,"");Site.redirect(t)},handleResolveRelativeLangUrl:function(t){return typeof Site=="undefined"||!Site.resolveRelativeLangUrl?n("#RootLangUrl").val()+t:Site.resolveRelativeLangUrl(t)}};return t}(jQuery);Layout.initialize();